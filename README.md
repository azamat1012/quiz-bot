<h1>Викторина Бот</h1>

<p>Этот проект содержит два бота для викторин: один для Telegram (`tg_bot.py`) и один для ВКонтакте (`vk_bot.py`). Оба бота позволяют пользователям участвовать в викторине, отвечая на вопросы из заранее подготовленного банка вопросов (`1vs1200.txt`). Боты используют Redis для хранения очков пользователей и текущих вопросов, а также поддерживают команды, такие как начало викторины, запрос нового вопроса, проверка счета и сдача.</p>

<h2>Возможности</h2>

<ul>
<li>Telegram Бот:</li>
<ol>
1. Реагирует на команды `/start`, "Новый вопрос", "Сдаться" и "Мой счёт". </br>
2. Предоставляет клавиатуру для взаимодействия.</br>
3. Хранит очки пользователей и текущие вопросы в Redis.</br>
</ol>
<li>VK Бот:</li>
<ol>
1. Обрабатывает аналогичные команды ("Новый*вопрос", "Сдаться", "Мой*счет"). </br>
2. Отправляет логи в указанный чат администратора ВКонтакте (если настроено).</br>
3. Так же хранит очки пользователей и текущие вопросы в Redis.</br>
</ol>
</ul>

<h4>Общие функции:</h4>

<ol>
<li>Вопросы обрабатываются из файла `1vs1200.txt`</li>
<li>Redis используется для постоянного хранения данных пользователей.</li>
<li>Ведется логирование для отладки и мониторинга.</li>

</ol>

<h2>Требования</h2>

1. Python 3.8+

2. Сервер Redis (настроенный с хостом, портом, именем пользователя и паролем)

3. Токен Telegram бота (для `tg_bot.py`)

4. Токен VK бота (для `vk_bot.py`)

- <strong>Необходимые Python-библиотеки (перечислены в `requirements.txt`)</strong>

<h2>Установка</h2>

<strong><i>Шаг 1: Клонируйте репозиторий:</i></strong>

```shell
git clone https://github.com/azamat1012/quiz-bot.git

cd quiz-bot  #Переход в нужнуюу директорию
```

<br/>
<strong><i>Шаг 2: Установите зависимости:</i></strong>

```shell
pip install -r requirements.txt
```

<strong><i>Шаг 3: Создайте файл `.env` в корневой директории проекта со следующими переменными:</i></strong>

```env
TELEGRAM_BOT_TOKEN=ваш-токен-telegram-бота
VK_BOT_TOKEN=ваш-токен-vk-бота
REDIS_HOST=ваш-хост-redis
REDIS_PASSWORD=ваш-пароль-redis
REDIS_PORT=ваш-порт-redis
ADMIN_CHAT_ID_VK=ваш-id-чата-администратора-vk
```

Убедитесь, что файл `1vs1200.txt` с вопросами для викторины находится в директории проекта в папке `quiz-questions`. То есть весь релевантный путь - `quiz-questions/1vs1200.txt`

!!! В файлах `tg_bot.py` и `vk_bot.py` есть переменная, которая называется file_name. По условию он определен как `1vs1200.txt`. Вы можете поменять название на опеределенный файл с релевантной структурой внутри.

<h2>Запуск</h2>

<strong>1. Запустите Telegram бот:</strong>

```shell
python tg_bot.py --file <ПУТЬ/К/ВАШЕМУ/ФАЙЛУ/С/ВОПРОСАМИ/>
```

```shell
python vk_bot.py --file <ПУТЬ/К/ВАШЕМУ/ФАЙЛУ/С/ВОПРОСАМИ/
```

**_NOTE:_**
Ваш файл с вопросами должен лежать внутри директории <strong>quiz-questions</strong> </br>
<strong> 1. Запустите VK бот:</strong>

---

<p><i>Взаимодействуйте с ботами через Telegram или ВКонтакте, отправляя команды, такие как `/start`, "Новый вопрос" или "Мой счёт".</i></p>

<h2>Структура файлов</h2>

- `tg_bot.py`: Реализация Telegram бота.

- `vk_bot.py`: Реализация VK бота.

- `keyboards.py`: Определяет раскладки клавиатур для обоих ботов.

- `utils.py`: Утилитарные функции, включая обработку вопросов из `1vs1200.txt`.

- `1vs1200.txt`: Файл с вопросами для викторины.

- `.env`: Переменные окружения.
